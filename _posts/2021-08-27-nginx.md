---
title: 'nginx'
layout: post
tags:
  - nginx
category: nginx
---
nginx服务器。

<!--more-->

# 一、docker安装

```shell
docker pull nginx

#先创建一个temp nginx 获取默认的配置文件
docker run -itd -p 80:80 --name nginx

#复制容器内默认的nginx.conf
docker cp nginx:/etc/nginx/nginx/conf ./

#将默认nginx.conf放到映射路径[dir]/conf/下
cp nginx.conf [dir]/conf

docker run -itd -p [port]:80 --name [appName] -v [dir]/www:/usr/share/nginx/html -v [dir]/conf/nginx.conf:/etc/nginx/nginx.conf -v [dir]/logs:/var/log/nginx nginx

```



# 二、linux安装



```shell
yum -y update
#解压
tar -zxcfnginx-1.20.2.tar.gz

#配置安装路径
./configure --prefix=/home/nginx/1.20.2

#安装
make
make install
```



安装失败缺少依赖

```
4.1、GCC——GNU编译器集合    

     ubuntu: apt-get install gcc     

     linux: yum install gcc-c++ 

4.2、PCRE库    

        ubuntu:apt-get install libpcre3 libpcre3-dev

        linux: yum install -y pcre pcre-devel

4.3、zlib库   

        ubuntu: apt-get install zlib1g zlib1g-dev

        linux: yum install -y zlib zlib-devel

4.4、OpenSSL库  

        ubuntu:apt-get install openssl openssl-dev

        linux: yum install -y openssl openssl-devel
```



# 三、命令

```shell
#启动
./sbin/nginx

#停止nginx
 
nginx -s stop
 
#重启nginx
 
nginx -s reload
```

# 四、配置

## 配置静态资源

```
location /excel {
    add_header Content-Disposition "attachment;filename*=utf-8'zh_cn'$arg_n";
    root   D:\project\idea\visual_doc\push;
}
```

